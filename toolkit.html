<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admins Toolkit — One‑Page Calculators</title>
  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
  <meta name="color-scheme" content="dark light" />
  <style>
    :root{ --glass: rgba(255,255,255,.08); --brd: rgba(255,255,255,.2);} 
    .glass{ background: var(--glass); border:1px solid var(--brd); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);} 
    .grad{
      background: radial-gradient(1000px 600px at 15% 10%, rgba(56,189,248,.18), transparent),
                  radial-gradient(900px 650px at 85% 20%, rgba(16,185,129,.15), transparent),
                  linear-gradient(135deg,#060e25,#0b1e3b 60%,#061324);
    }
    input[type=number]{appearance:textfield}
    input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{appearance:none;margin:0}
    .hidden-panel{display:none}
  </style>
</head>
<body class="min-h-screen grad text-slate-100 selection:bg-cyan-500/30">
  <!-- Header -->
  <header class="sticky top-0 z-30">
    <div class="glass mx-auto max-w-6xl mt-4 mb-2 rounded-2xl px-4 sm:px-6 py-4 flex items-center justify-between shadow-xl">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-2xl grid place-items-center bg-cyan-500/20 border border-cyan-400/30 text-cyan-300"><i class="fa-solid fa-layer-group"></i></div>
        <div>
          <h1 class="text-xl sm:text-2xl font-semibold tracking-wide">Admins Toolkit</h1>
          <p class="text-xs text-slate-400 -mt-0.5">One-page gallery — open tools with a click</p>
        </div>
      </div>
      <span class="text-xs text-slate-400">© <span id="y"></span></span>
    </div>
  </header>

  <!-- Main -->
  <main class="mx-auto max-w-6xl px-4 sm:px-6 pb-20">
    <!-- Tool Launcher Cards -->
    <section class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
      <button data-open="bedOcc" class="group glass rounded-2xl px-5 py-6 text-left hover:scale-[1.02] transition shadow-xl">
        <div class="flex items-center justify-between">
          <div class="h-12 w-12 grid place-items-center rounded-xl bg-cyan-500/20 border border-cyan-400/30">
            <i class="fa-solid fa-bed text-cyan-300"></i>
          </div>
          <i class="fa-solid fa-arrow-right text-slate-400 group-hover:text-cyan-300"></i>
        </div>
        <h3 class="mt-3 font-semibold">Bed Occupancy</h3>
        <p class="text-xs text-slate-400">Rate calculator</p>
      </button>

      <button data-open="telford" class="group glass rounded-2xl px-5 py-6 text-left hover:scale-[1.02] transition shadow-xl">
        <div class="flex items-center justify-between">
          <div class="h-12 w-12 grid place-items-center rounded-xl bg-emerald-500/20 border border-emerald-400/30">
            <i class="fa-solid fa-users text-emerald-300"></i>
          </div>
          <i class="fa-solid fa-arrow-right text-slate-400 group-hover:text-emerald-300"></i>
        </div>
        <h3 class="mt-3 font-semibold">Manpower — Telford</h3>
        <p class="text-xs text-slate-400">FTE + 23% coverage</p>
      </button>

      <div class="glass rounded-2xl px-5 py-6 opacity-60 pointer-events-none">
        <div class="flex items-center justify-between">
          <div class="h-12 w-12 grid place-items-center rounded-xl bg-slate-200/10 border border-slate-200/20">
            <i class="fa-regular fa-square-plus text-slate-300"></i>
          </div>
          <i class="fa-solid fa-lock text-slate-500"></i>
        </div>
        <h3 class="mt-3 font-semibold">Coming soon</h3>
        <p class="text-xs text-slate-500">Add your next calculator</p>
      </div>
    </section>

    <!-- Panels Wrapper -->
    <section id="panels" class="mt-8 space-y-8">

      <!-- Bed Occupancy Panel -->
      <div id="panel-bedOcc" class="hidden-panel glass rounded-3xl p-6 sm:p-8 shadow-2xl">
        <div class="flex items-center justify-between gap-3">
          <h2 class="text-2xl sm:text-3xl font-bold flex items-center gap-2"><i class="fa-solid fa-bed text-cyan-300"></i> Bed Occupancy Rate</h2>
          <button class="closeBtn glass px-3 py-2 rounded-xl text-xs" data-close>Close</button>
        </div>
        <p class="text-slate-300 mt-2 text-sm">Compute occupancy (%) from patient bed-hours vs. operational bed-hours.</p>

        <form class="mt-6 grid sm:grid-cols-2 gap-4">
          <label class="block">
            <span class="text-sm">Number of Visitors</span>
            <input type="number" id="visitors" min="0" step="1" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
          </label>
          <label class="block">
            <span class="text-sm">Length of Stay (hours)</span>
            <input type="number" id="los" min="0" step="0.01" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
          </label>
          <label class="block">
            <span class="text-sm">Operational Beds</span>
            <input type="number" id="beds" min="0" step="1" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
          </label>
          <label class="block">
            <span class="text-sm">Days in Month</span>
            <input type="number" id="days" min="0" step="1" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-cyan-400" required>
          </label>

          <div class="sm:col-span-2 flex flex-wrap gap-3 mt-2">
            <button type="button" id="calcOccBtn" class="px-4 py-2 rounded-xl bg-cyan-600 hover:bg-cyan-500 active:bg-cyan-700 transition shadow-lg"><i class="fa-solid fa-calculator mr-2"></i>Calculate</button>
            <button type="reset" id="resetOccBtn" class="px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 active:bg-slate-800 transition shadow-lg"><i class="fa-solid fa-rotate-left mr-2"></i>Reset</button>
          </div>
        </form>

        <div id="occResult" class="hidden mt-6 glass rounded-2xl p-4 border-emerald-300/20">
          <div class="flex items-center gap-3">
            <div class="h-10 w-10 grid place-items-center rounded-xl bg-emerald-500/15 border border-emerald-400/30">
              <i class="fa-solid fa-percent text-emerald-300"></i>
            </div>
            <div>
              <p class="text-xs text-slate-400">Bed Occupancy Rate</p>
              <p id="rate" class="text-2xl font-semibold">—</p>
            </div>
          </div>
          <div class="grid sm:grid-cols-3 gap-3 mt-4 text-xs text-slate-300">
            <div class="glass rounded-xl p-3 border-slate-200/10">
              <p class="text-slate-400">Patient Bed Hours</p>
              <p id="pbh" class="font-semibold">—</p>
            </div>
            <div class="glass rounded-xl p-3 border-slate-200/10">
              <p class="text-slate-400">Operational Bed Hours</p>
              <p id="obh" class="font-semibold">—</p>
            </div>
            <div class="glass rounded-xl p-3 border-slate-200/10">
              <p class="text-slate-400">Inputs</p>
              <p id="inputs" class="font-semibold">—</p>
            </div>
          </div>
          <details class="mt-4 glass rounded-2xl p-4 border-slate-200/10">
            <summary class="cursor-pointer select-none">Formula</summary>
            <div class="mt-2 text-sm text-slate-300 space-y-1">
              <p><strong>Occupancy (%)</strong> = (Total Patient Bed Hours ÷ Total Operational Bed Hours) × 100</p>
              <ul class="list-disc pl-5">
                <li>Total Patient Bed Hours = Visitors × LOS (hours)</li>
                <li>Total Operational Bed Hours = Beds × Days × 24</li>
              </ul>
            </div>
          </details>
        </div>
      </div>

      <!-- Telford Manpower Panel -->
      <div id="panel-telford" class="hidden-panel glass rounded-3xl p-6 sm:p-8 shadow-2xl">
        <div class="flex items-center justify-between gap-3">
          <h2 class="text-2xl sm:text-3xl font-bold flex items-center gap-2"><i class="fa-solid fa-users text-emerald-300"></i> Manpower Calculation — Telford</h2>
          <button class="closeBtn glass px-3 py-2 rounded-xl text-xs" data-close>Close</button>
        </div>
        <p class="text-slate-300 mt-2 text-sm">FTE over 7 days with 23% extra for unproductive days.</p>

        <form class="mt-6 grid sm:grid-cols-3 gap-4">
          <label class="block">
            <span class="text-sm">Staff required in 24 hrs</span>
            <input type="number" id="staffRequired" min="0" step="1" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400" required>
          </label>
          <label class="block">
            <span class="text-sm">Shift working hours</span>
            <input type="number" id="shiftHours" min="0" step="0.5" value="12" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400" required>
          </label>
          <label class="block">
            <span class="text-sm">Overtime hours (denominator)</span>
            <input type="number" id="overtimeHours" min="1" step="1" placeholder="Default 48 if empty" class="mt-1 w-full rounded-xl bg-slate-900/60 border border-slate-200/15 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400">
          </label>

          <div class="sm:col-span-3 flex flex-wrap gap-3 mt-2">
            <button type="button" id="calcTelBtn" class="px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 active:bg-emerald-700 transition shadow-lg"><i class="fa-solid fa-calculator mr-2"></i>Calculate</button>
            <button type="reset" id="resetTelBtn" class="px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-600 active:bg-slate-800 transition shadow-lg"><i class="fa-solid fa-rotate-left mr-2"></i>Reset</button>
          </div>
        </form>

        <div class="mt-6 grid lg:grid-cols-2 gap-4">
          <div class="glass rounded-2xl p-4 border-slate-200/10">
            <h3 class="font-semibold mb-2">Steps</h3>
            <ul id="stepsList" class="space-y-2 text-sm"></ul>
          </div>
          <div class="glass rounded-2xl p-4 border-emerald-300/20">
            <h3 class="font-semibold mb-2">Result</h3>
            <p class="text-2xl text-emerald-300">Final staffing required: <span id="finalStaffing">—</span></p>
            <details class="mt-3 glass rounded-2xl p-4 border-slate-200/10 text-sm text-slate-300">
              <summary class="cursor-pointer select-none">Formula</summary>
              <p class="mt-2"><code>FTE = (Staff in 24h × Shift hours × 7) ÷ Overtime hours</code></p>
              <p><code>Final = FTE + 23% of FTE</code></p>
            </details>
            <p class="mt-4 text-xs text-slate-400">Credit: <a class="underline" href="https://www.linkedin.com/in/abdelaziz-ibrahim-gedeleila-773b2b141/" target="_blank" rel="noopener">Abdelaziz Ibrahim Gedelleila</a></p>
          </div>
        </div>
      </div>

    </section>
  </main>

  <script>
    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Simple panel router
    const openButtons = document.querySelectorAll('[data-open]');
    const panels = {
      bedOcc: document.getElementById('panel-bedOcc'),
      telford: document.getElementById('panel-telford')
    };
    function openPanel(name){
      Object.values(panels).forEach(p=>p.classList.add('hidden-panel'));
      panels[name]?.classList.remove('hidden-panel');
      window.scrollTo({ top: panels[name].offsetTop - 80, behavior: 'smooth' });
    }
    openButtons.forEach(btn=>btn.addEventListener('click', ()=>openPanel(btn.dataset.open)));
    document.querySelectorAll('[data-close]').forEach(b=>b.addEventListener('click', ()=>{
      Object.values(panels).forEach(p=>p.classList.add('hidden-panel'));
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }));

    // Helpers
    const $ = (id)=>document.getElementById(id);
    const num = (v)=>{ const n = parseFloat(v); return Number.isFinite(n) ? n : NaN; };
    const toast = (msg)=>{
      const t = document.createElement('div');
      t.className = 'fixed bottom-4 left-1/2 -translate-x-1/2 glass px-4 py-2 rounded-xl text-sm border border-red-400/30 text-red-300 shadow-2xl';
      t.innerHTML = `<i class="fa-solid fa-triangle-exclamation mr-2"></i>${msg}`;
      document.body.appendChild(t);
      setTimeout(()=>t.remove(), 2500);
    };

    // ===== Bed Occupancy Logic =====
    function calcOccupancy(){
      const visitors = num($('visitors').value);
      const los = num($('los').value);
      const beds = num($('beds').value);
      const days = num($('days').value);
      if([visitors,los,beds,days].some(x=>!Number.isFinite(x) || x<=0)) return toast('Enter valid positive numbers in all fields.');
      const pbh = visitors * los;           // patient bed hours
      const obh = beds * days * 24;         // operational bed hours
      const rate = (pbh/obh)*100;
      localStorage.setItem('bedOcc:last', JSON.stringify({visitors,los,beds,days}));
      $('occResult').classList.remove('hidden');
      $('rate').textContent = rate.toFixed(2) + '%';
      $('pbh').textContent = pbh.toLocaleString();
      $('obh').textContent = obh.toLocaleString();
      $('inputs').textContent = `${visitors} v, ${los} h, ${beds} beds, ${days} days`;
    }
    $('calcOccBtn').addEventListener('click', calcOccupancy);
    $('resetOccBtn').addEventListener('click', ()=>{$('occResult').classList.add('hidden'); localStorage.removeItem('bedOcc:last');});
    // Restore
    try{ const saved = JSON.parse(localStorage.getItem('bedOcc:last')||'null'); if(saved){ $('visitors').value = saved.visitors; $('los').value = saved.los; $('beds').value = saved.beds; $('days').value = saved.days; } }catch(e){}

    // ===== Telford Logic =====
    function calcTelford(){
      const staffRequired24hrs = num($('staffRequired').value);
      const shiftHours = num($('shiftHours').value);
      let overtimeHours = num($('overtimeHours').value);
      if(!Number.isFinite(overtimeHours) || overtimeHours<=0) overtimeHours = 48; // default
      if([staffRequired24hrs,shiftHours].some(x=>!Number.isFinite(x) || x<=0)) return toast('Fill Staff required and Shift hours with valid numbers.');

      const steps = $('stepsList');
      const finalStaffing = $('finalStaffing');
      steps.innerHTML = '';

      const FTE = (staffRequired24hrs * shiftHours * 7) / overtimeHours;
      const additional = FTE * 0.23;
      const total = FTE + additional;

      const s1 = document.createElement('li');
      s1.textContent = `Step 1: FTE = (${staffRequired24hrs} × ${shiftHours} × 7) ÷ ${overtimeHours} = ${FTE.toFixed(2)}`;
      steps.appendChild(s1);
      setTimeout(()=>{
        const s2 = document.createElement('li');
        s2.textContent = `Step 2: Additional 23% = ${FTE.toFixed(2)} × 0.23 = ${additional.toFixed(2)}`;
        steps.appendChild(s2);
      }, 800);
      setTimeout(()=>{
        const s3 = document.createElement('li');
        s3.textContent = `Step 3: Final = ${FTE.toFixed(2)} + ${additional.toFixed(2)} = ${total.toFixed(2)}`;
        steps.appendChild(s3);
        finalStaffing.textContent = total.toFixed(2);
      }, 1600);
    }
    $('calcTelBtn').addEventListener('click', calcTelford);
    $('resetTelBtn').addEventListener('click', ()=>{ $('stepsList').innerHTML=''; $('finalStaffing').textContent='—'; });
  </script>
</body>
</html>
